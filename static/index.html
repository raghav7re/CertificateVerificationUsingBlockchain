<!DOCTYPE html>
<html lang="en">
<head>
<title>Title</title>
</head>
<body>
    
    <script src ="./ref.js"  type="module" >
        
        const Web3 = require('web3');


        var contractt =new web3.eth.Contract(abicode, smartcontractadd);
        console.log(contractt);
        var IsMetamask =  CheckMetamaskConnection();
        
        
        if(true)
        {
        console.log("I see a metamask");
        }
        else
        {
            console.log("metamask not here");
        }
    
    </script>
<button id ="ConnectButton">Connect</button>
<button id ="balanceof">Balanceof</button>


<button onclick="balanceof()">balanceof</button>
    <input type="text" id="fname" name="firstname" >
    <br><br>
    <button id="totalsupply">total supply</button>
    

    <button >approve</button>
    <input type="text" id="sname" name="firstname" >
    <input type="text" id="tname" name="lastname" ><br><br>

    <button >transfer</button>
    <input type="text" id="aname" name="firstname" >
    <input type="text" id="tname" name="lastname" ><br><br>

    <button >transfer from</button>
    <input type="text" id="fname" name="firstname">
    <input type="text" id="lname" name="lastname" ><br><br>

    <button >allowance</button>
    <input type="text" id="fname" name="firstname" >
    <input type="text" id="lname" name="lastname" ><br><br>

    <button >approve and call</button>
    <input type="text" id="fname" name="firstname" >
    <input type="text" id="lname" name="lastname" ><br><br>
    
    <p>Click on the "Choose File" button to upload a file:</p>
    <button id ="ConnectButton" onclick="CheckMetamaskConnection()">Connect</button>

    <input type="file" id="myfile" onchange="onMyfileChange(this)" />
    <script src="https://unpkg.com/jszip@3.7.1/dist/jszip.js" type="text/javascript"></script>
    <script type="text/javascript">
        function onMyfileChange(fileInput) {
            if(fileInput.files[0] == undefined) {
                return ;
            }
            var filename = fileInput.files[0].name;
            // var filesize = fileInput.files[0].size;
            var reader = new FileReader();
            reader.onload = function(ev) {
                console.log("File", filename, ":");
                // 
                crypto.subtle.digest('SHA-256', ev.target.result).then(hashBuffer => {
                    // Convert hex to hash, see https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest#converting_a_digest_to_a_hex_string
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join(''); // convert bytes to hex string
                    console.log(hashHex);
                }).catch(ex => console.error(ex));
            };
            reader.onerror = function(err) {
                console.error("Failed to read file", err);
            }
            reader.readAsArrayBuffer(fileInput.files[0]);
        }
    </script>


</body>
</html>
